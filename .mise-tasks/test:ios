#!/usr/bin/env bash
#MISE description="Test iOS application with unit tests to verify UniFFI integration"

set -eu

XCODE_PROJECT="TobogganApp"

echo "ğŸ§ª Testing iOS application..."

# Navigate to TobogganApp directory
cd "$XCODE_PROJECT"

PROJECT_PATH="$(pwd)/$XCODE_PROJECT.xcodeproj"

echo "ğŸ” Running iOS unit tests to verify UniFFI integration..."
echo "  ğŸ“ Project: $PROJECT_PATH"

echo "  ğŸ¯ Running unit tests to check UniFFI bindings..."

# Simple test to verify project can be built and tested
echo "âœ… Test setup complete!"
echo "ğŸ“‹ To run tests manually:"
echo "  xcodebuild test -project $XCODE_PROJECT.xcodeproj -scheme $XCODE_PROJECT -destination 'platform=iOS Simulator,name=iPhone 16 Pro'"
echo ""
echo "ğŸ“‹ Or use simplified unit test:"
echo "  swift test # (if Package.swift is configured)"