#!/usr/bin/env bash
#MISE description="Run comprehensive pre-push checks: format, lint, and test"

set -eux

# Check formatting
cargo +nightly fmt --all --check

# Check no lint warning
cargo clippy --all-targets --all-features -- -D warnings

# Run tests
cargo nextest run

# Run doc tests
cargo test --doc

# Check toboggan-web with Biome
echo "Checking toboggan-web with Biome..."
cd toboggan-web && npm run check && cd ..

