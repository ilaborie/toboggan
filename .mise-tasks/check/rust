#!/usr/bin/env bash
#MISE description="Run Rust-specific checks: format, lint, and test"

set -eu

echo "ğŸ¦€ Running Rust checks..."

# Check formatting
echo "ğŸ“ Checking Rust formatting..."
cargo +nightly fmt --all --check

# Check no lint warning
echo "ğŸ” Running Rust clippy..."
cargo clippy --all-targets --all-features -- -D warnings

# Run tests
echo "ğŸ§ª Running Rust unit tests..."
cargo nextest run

# Run doc tests
echo "ğŸ“š Running Rust doctests..."
cargo test --doc

echo "âœ… All Rust checks passed!"