:host {
  display: block;
  background-color: rgb(150, 169, 232);
}

nav {
  position: relative;
  display: grid;
  grid-template-columns: 1fr var(--nav-grid-column);
  grid-template-areas: "title status" "title buttons";
  grid-gap: var(--spacing-md) 1px;
  padding: var(--spacing-md);
}

progress {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  transform: translateY(-50%);
  height: var(--progress-height);
}

h1 {
  grid-area: title;
  margin: 0;
  font-size: var(--font-size-heading);
  font-weight: var(--font-weight-semibold);
  display: flex;
  align-items: center;
}

.buttons {
  grid-area: buttons;
  display: flex;
  gap: var(--spacing-sm);
  align-items: center;
}

.status {
  grid-area: status;
  display: flex;
  gap: var(--spacing-md);
  align-items: center;
  font-size: var(--font-size-sm);
}


.slide-info {
  font-weight: var(--font-weight-bold);
  font-family: var(--font-family-mono);
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
}

/* Book-open icon before slide info */
.slide-info::before {
  content: "";
  width: var(--icon-size-sm);
  height: var(--icon-size-sm);
  display: inline-block;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  flex-shrink: 0;
  background-image: var(--icon-slide-info);
}

/* Slide info formatting via CSS with data attributes */
.slide-info[data-current][data-total]::after {
  content: attr(data-current) "/" attr(data-total);
}

.duration {
  font-weight: var(--font-weight-bold);
  font-family: var(--font-family-mono);
  visibility: hidden;
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
}

/* Clock icon before duration */
.duration::before {
  content: "";
  width: var(--icon-size-sm);
  height: var(--icon-size-sm);
  display: inline-block;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  flex-shrink: 0;
  background-image: var(--icon-duration);
}

/* Default duration content when empty */
.duration:empty::after {
  content: "00:00:00";
}

/* State-specific styles */
nav.running .duration {
  visibility: visible;
}

/* Navigation button layout */
button {
  padding: var(--button-padding);
  text-align: center;
  display: none;
  border: none;
  background: transparent;
  cursor: pointer;
  border-radius: var(--radius-sm);
  transition: background-color var(--transition-fast) ease;
  width: var(--button-size);
  height: var(--button-size);
  position: relative;
}

button:hover {
  background-color: var(--color-hover-bg);
}

/* Lucide icon styles via CSS */
button::before {
  content: "";
  width: var(--icon-size-sm);
  height: var(--icon-size-sm);
  display: inline-block;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
}

/* First icon (chevrons-left) */
.home-btn::before {
  background-image: var(--icon-button-first);
}

/* Previous icon (chevron-left) */
.prev-btn::before {
  background-image: var(--icon-button-previous);
}

/* Next icon (chevron-right) */
.next-btn::before {
  background-image: var(--icon-button-next);
}

/* Last icon (chevrons-right) */
.last-btn::before {
  background-image: var(--icon-button-last);
}

/* Pause icon (pause) */
.pause-btn::before {
  background-image: var(--icon-button-pause);
}

/* Resume icon (play) */
.resume-btn::before {
  background-image: var(--icon-button-play);
}

/* Button visibility based on state and position */
nav.init:not(.at-last) .next-btn { display: inline-block; }

nav.running:not(.at-first) .prev-btn { display: inline-block; }
nav.running:not(.at-last) .next-btn { display: inline-block; }
nav.running .pause-btn { display: inline-block; }

nav.paused .home-btn { display: inline-block; }
nav.paused .last-btn { display: inline-block; }
nav.paused .resume-btn { display: inline-block; }

nav.done .home-btn { display: inline-block; }

/* Connection status with Lucide icons */
.connection {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
}

.connection::before {
  content: "";
  width: var(--icon-size-sm);
  height: var(--icon-size-sm);
  display: inline-block;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  flex-shrink: 0;
}

.connection::after {
  content: "";
  font-size: var(--font-size-sm);
}

/* Connected - only icon, no text (wifi icon) */
.connection.connected::before {
  background-image: var(--icon-connection-connected);
}

/* Connecting - icon + text (wifi-sync icon) */
.connection.connecting::before {
  background-image: var(--icon-connection-connecting);
}

.connection.connecting::after {
  content: "Connecting...";
  color: var(--color-info);
}

/* Closed - icon + text (wifi-off icon) */
.connection.closed::before {
  background-image: var(--icon-connection-closed);
}

.connection.closed::after {
  content: "Closed";
  color: var(--color-error);
}

/* Reconnecting - icon + dynamic text (radio icon) */
.connection.reconnecting::before {
  background-image: var(--icon-connection-reconnecting);
}

.connection.reconnecting {
  color: var(--color-warning);
}

/* Error - icon + dynamic text (unplug icon) */
.connection.error::before {
  background-image: var(--icon-connection-error);
}

.connection.error {
  color: var(--color-error);
}

/* Animation for rotating icons */
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}